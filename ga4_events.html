<html>
  <header>
    <style>
      .container {
        width: 100vw;
        height: 100vh;
        display: flex;
        flex-direction: row;
        justify-content: center;
        align-items: center;
      }
    
      .box {
        width: 300px;
        height: 300px;
      }
    
      body {
        margin: 0px;
      }
    </style>
    <script>
      function gtag() { dataLayer.push(arguments); }

      function import_gtag(measurementId) {
        script = document.createElement("script");
        script.setAttribute("type", "text/javascript");
        script.setAttribute("src", `https://www.googletagmanager.com/gtag/js?id=${measurementId}`);
        script.setAttribute("async", "");

        document.head.insertBefore(script, document.head.firstChild);

        window.dataLayer = window.dataLayer || [];

        gtag('js', new Date());

        gtag('config', measurementId);
      }

      function ga_events() {
        measurementId = document.getElementById('measurementId').value
        randomId = Math.floor(Math.random() * 10 + 1)
        randomFilter = Math.floor(Math.random() * 10 + 1)

        import_gtag(measurementId)

        // LINK DA BIO
        gtag('event', 'RD Link da Bio', {
          'rd_asset_id': randomId,
          'rd_filter': '',
          'rd_action': 'viewed',
        });
        gtag('event', 'RD Link da Bio', {
          'rd_asset_id': randomId,
          'rd_filter': 'post:' + randomFilter,
          'rd_action': 'clicked',
        });
        gtag('event', 'RD Link da Bio', {
          'rd_asset_id': randomId,
          'rd_filter': 'cta:' + randomFilter,
          'rd_action': 'clicked',
        });
        gtag('event', 'RD Link da Bio', {
          'rd_asset_id': randomId,
          'rd_filter': 'social:' + randomFilter,
          'rd_action': 'clicked',
        });

        // LPs
        gtag('event', 'RD Landing Pages', {
          'rd_asset_id': randomId,
          'rd_filter': '',
          'rd_action': 'viewed',
        });
        gtag('event', 'RD Landing Pages', {
          'rd_asset_id': randomId,
          'rd_filter': 'experiment:' + randomFilter,
          'rd_action': 'viewed',
        });
        gtag('event', 'RD Landing Pages', {
          'rd_asset_id': randomId,
          'rd_filter': '',
          'rd_action': 'conversion',
        });

        // FORMs
        gtag('event', 'RD Formulario Embutido', {
          'rd_asset_id': randomId,
          'rd_filter': '',
          'rd_action': 'viewed',
        });
        gtag('event', 'RD Formulario Embutido', {
          'rd_asset_id': randomId,
          'rd_filter': '',
          'rd_action': 'conversion',
        });

        //POPUPs e WhatsApps
        gtag('event', 'RD Popup e WhatsApp', {
          'rd_asset_id': randomId,
          'rd_filter': '',
          'rd_action': 'viewed',
        });
        gtag('event', 'RD Popup e WhatsApp', {
          'rd_asset_id': randomId,
          'rd_filter': '',
          'rd_action': 'clicked',
        });
        gtag('event', 'RD Popup e WhatsApp', {
          'rd_asset_id': randomId,
          'rd_filter': '',
          'rd_action': 'closed',
        });

        alert("Eventos Disparados")
      }
    </script>
  </header>
  <body>
    <div class="container">
      <div class="box">
        <h1>Eventos do GA4</h1>
        <input id="measurementId" type="text" placeholder="Measurement Id" />
        <button type="button" onclick="ga_events()">Enviar</button>
      </div>
      </div>
  </body>

</html>